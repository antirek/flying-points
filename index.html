<!DOCTYPE html>
<html>
<head>
    <script src="bower_components/konva/konva.min.js"></script>
    <script src="index.js"></script>
    <meta charset="utf-8">
    <title>Flying points demo</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #F0F0F0;
        }
    </style>
</head>
<body>
<div id="container"></div>

<script>

    var Stage = function (container) {
        var width = '300'; //window.innerWidth;
        var height = '300'; //window.innerHeight;

        var stage = new Konva.Stage({
            container: container,
            width: width,
            height: height
        });

        var layer = new Konva.Layer();
        stage.add(layer);

        var add = function (x, y, vx, vy, color) {
            var hexagon = new Konva.Circle({
                x: x,
                y: y,                
                radius: 10,
                fill: color
            });

            layer.add(hexagon);
            
            var anim = new Konva.Animation(function (frame) {
                var x = hexagon.x();
                var y = hexagon.y();
                if (x > width || x < 0) {
                    vx = -vx
                }
                if (y > height || y < 0) {
                    vy = -vy
                }
                hexagon.x(x + vx);
                hexagon.y(y + vy);
            }, layer);
            
            anim.start();
        };

        return {
            add: add
        };
    };
    
    var stage = new Stage('container');

    stage.add(50, 50, 5, -5, 'red');
    stage.add(50, 50, 10, -10, 'green');
    stage.add(250, 250, 10, -10, 'blue');

</script>
</body>
</html>